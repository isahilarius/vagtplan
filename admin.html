<!DOCTYPE html>
<html lang="da">
  <head>
    <meta charset="UTF-8" />
    <title>Admin – Vagtplan</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://fonts.cdnfonts.com/css/flama" rel="stylesheet" />
    <link rel="stylesheet" href="dist/output.css" />
  </head>

  <body class="bg-grey text-white font-flama p-6">
    <!-- Logo -->
    <div class="flex justify-center pb-8">
      <img
        src="images/logo.webp"
        alt="Hovedstadens Beredskabs logo"
        class="max-w-[15em]"
      />
    </div>

    <!-- Helligdage-->
    <div id="app" class="max-w-5xl mx-auto space-y-8">
      <section class="bg-darkerblue p-6 rounded-lg shadow">
        <h2 class="text-2xl mb-3">Helligdage</h2>

        <!-- Controls -->
        <div class="flex gap-3 mb-4">
          <input
            v-model="newHoliday.date"
            type="date"
            class="px-3 py-2 rounded-md border-none text-black"
          />
          <input
            v-model="newHoliday.description"
            placeholder="Beskrivelse"
            class="px-3 py-2 rounded-md border-none text-black bg-grey flex-1"
          />
          <button
            @click="addHoliday"
            class="px-4 py-2 bg-orange rounded-md text-white cursor-pointer hover:bg-yellow-500"
          >
            Tilføj
          </button>
        </div>

        <!-- Table -->
        <table class="w-full table-auto border-collapse">
          <thead>
            <tr class="bg-darkblue">
              <th class="p-2 text-left">Dato</th>
              <th class="p-2 text-left">Beskrivelse</th>
              <th class="p-2"></th>
            </tr>
          </thead>
          <tbody>
            <tr
              v-for="h in holidays"
              :key="h.id"
              class="border-b border-gray-600"
            >
              <td class="p-2">{{ formatDate(h.date) }}</td>
              <td class="p-2">{{ h.description }}</td>
              <td class="p-2 text-right">
                <button
                  @click="deleteHoliday(h.id)"
                  class="text-red-500 hover:underline"
                >
                  Slet
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- Ferieperioder -->
      <section class="bg-darkerblue p-6 rounded-lg shadow font-flama">
        <h2 class="text-2xl mb-3">Ferieperioder</h2>

        <!-- Controls -->
        <div class="flex gap-3 mb-4">
          <input
            v-model="newVacation.start_date"
            type="date"
            class="px-3 py-2 rounded-md border-none text-black"
          />
          <input
            v-model="newVacation.end_date"
            type="date"
            class="px-3 py-2 rounded-md border-none text-black"
          />
          <select
            v-model="newVacation.station_id"
            class="px-3 py-2 rounded-md border-none text-black flex-1"
          >
            <option disabled value="">Vælg station</option>
            <option v-for="s in stations" :key="s.id" :value="s.id">
              {{ s.name }}
            </option>
          </select>
          <button
            @click="addVacation"
            class="px-4 py-2 bg-orange rounded-md text-white cursor-pointer font-flama hover:bg-yellow-500"
          >
            Tilføj
          </button>
        </div>

        <!-- Table -->
        <table class="w-full table-auto border-collapse">
          <thead>
            <tr class="bg-darkblue">
              <th class="p-2 text-left">Startdato</th>
              <th class="p-2 text-left">Slutdato</th>
              <th class="p-2 text-left">Stationer</th>
              <th class="p-2"></th>
            </tr>
          </thead>
          <tbody>
            <tr
              v-for="v in vacations"
              :key="v.id"
              class="border-b border-gray-600"
            >
              <td class="p-2">{{ formatDate(v.start_date) }}</td>
              <td class="p-2">{{ formatDate(v.end_date) }}</td>
              <td class="p-2">{{ v.station_name }}</td>
              <td class="p-2 text-right">
                <button
                  @click="deleteVacation(v.id)"
                  class="text-red-500 hover:underline"
                >
                  Slet
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </section>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="app.js"></script>
  </body>
</html>
