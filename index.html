<!DOCTYPE html>
<html lang="da">
  <head>
    <meta charset="utf-8" />
    <title>Vagtplan</title>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link href="https://fonts.cdnfonts.com/css/flama" rel="stylesheet" />
    <link rel="stylesheet" href="dist/output.css" />
  </head>

  <body class="font-flama bg-grey text-white p-6">
    <!-- Logo -->
    <div class="flex justify-center pb-8">
      <img
        src="images/logo.webp"
        alt="Hovedstadens Beredskabs logo"
        class="max-w-[15em]"
      />
    </div>

    <!-- Card -->
    <div
      id="app"
      class="bg-darkerblue p-5 rounded-xl max-w-3xl mx-auto shadow-md"
    >
      <h1 class="text-2xl mb-3 font-flama">Vagtskema</h1>

      <!-- Controls -->
      <div class="flex gap-3 mb-3">
        <input
          type="date"
          v-model="date"
          class="px-3 py-2 rounded-md border-none text-black font-flama"
        />
        <button
          @click="refresh"
          class="px-4 py-2 bg-orange rounded-md text-white cursor-pointer font-flama hover:bg-yellow-500"
        >
          Se vagtskema
        </button>
      </div>

      <!-- Table -->
      <table
        v-if="stations.length && !loading"
        class="w-full border-collapse mt-2 text-white"
      >
        <thead>
          <tr class="bg-darkblue">
            <th class="px-3 py-2 text-left">Station</th>
            <th class="px-3 py-2 text-left">Aktiv gruppe (kl. 8.00)</th>
            <th class="px-3 py-2 text-left">Note</th>
          </tr>
        </thead>
        <tbody>
          <tr
            v-for="s in stations"
            :key="s.id"
            class="border-b border-gray-500"
          >
            <td class="px-3 py-2">{{ s.name }}</td>
            <td class="px-3 py-2" v-if="groups[s.id]">
              {{ groups[s.id].group }}
            </td>
            <td class="px-3 py-2" v-else>â€”</td>
            <td class="px-3 py-2" v-if="groups[s.id]">
              {{ groups[s.id].reason }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="app.js"></script>
  </body>
</html>
